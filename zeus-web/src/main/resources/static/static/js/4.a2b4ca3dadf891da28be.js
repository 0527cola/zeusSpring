webpackJsonp([4],{"1jhM":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("M4fF"),a=i.n(n),l=i("PJh5"),s=i.n(l),o={name:"SysAllUserManage",mounted:function(){this.searchAllUser()},watch:{"userForm.adminType":function(){this.seach()},"userForm.name":function(){this.seachUser()},"userForm.email":function(){this.seachUser()},"userForm.loginStatus":function(){this.seach()},"userForm.daytime":{handler:function(e){this.seach()},deep:!0}},computed:{pagelayout:function(){var e=this.tableSize/this.pageSize+1;return this.tableSize%this.pageSize==0&&(e=this.tableSize/this.pageSize),e<2?"total, sizes, prev, pager, next":"total, sizes, prev, pager, next, jumper"},tableSize:function(){return this.tableData.length},tableDataView:function(){return this.tableData.slice((this.pagenum-1)*this.pageSize,this.pagenum*this.pageSize)}},methods:{searchAllUser:function(){var e=this;this.getRequest("/system/basic/users").then(function(t){e.tableData=t.data.data})},handleSizeChange:function(e){this.pageSize=e},dialogVisible:function(){this.dialogTableVisible=!1,this.seach()},handleAdd:function(){this.dialogTableVisible=!0,this.toChlidbtn=!0,this.tochlidForm={adminType:"",name:"",email:"",accontType:1,loginStatus:"12"}},handleEdit:function(e,t){this.pagenum=this.pagenum,this.dialogTableVisible=!0,this.toChlidbtn=!1;var i={adminType:t.adminType,name:t.name,email:t.email,accontType:1,id:t.id,loginStatus:t.loginStatus};this.tochlidForm=i},unlock:function(e,t){var i=this;this.$confirm("将会给该用户解锁","注意",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){unlockUser(t.id).then(function(e){200===e.status&&(i.$message.success("账户解锁成功"),i.seach())}).catch(function(e){i.$message.error("用户删除失败"),console.log(e)})}).catch(function(){})},lock:function(e,t){var i=this;this.$confirm("是否锁定该账户","注意",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){lockUser(t.id).then(function(e){200===e.status&&(i.$message.success("该用户已经被锁定"),i.seach())}).catch(function(e){i.$message.error("用户锁定失败"),console.log(e)})}).catch(function(){})},handleDelete:function(e,t){var i=this;this.$confirm("此条数据将会被彻底删除，是否继续？","注意",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){deleteUser(t.id).then(function(e){200===e.status&&(i.$message.success("用户删除成功"),i.seach())}).catch(function(e){i.$message.error("用户删除失败"),console.log(e)})}).catch(function(){})},handleCurrentChange:function(e){this.pagenum=e},reset:function(){this.$refs.userForm.resetFields()},formateradminType:function(e,t,i){if(i){var n={};return(n=this.accesspermission.filter(function(e){return i===e.value})[0])?n.label:""}return""},formaterlastLogin:function(e,t,i){return i?s()(i).format("YYYY-MM-DD HH:mm:ss"):"没有数据"},formaterloginStatus:function(e,t,i){if(i){var n={};return(n=this.loginStatus.filter(function(e){return i===e.value})[0])?n.label:""}return""},seachUser:a.a.debounce(function(){this.seach()},500),seach:function(){var e=this;this.tableload=!0;var t=this.editdata();console.log(t),seachUsers(t).then(function(t){200===t.status&&(e.tableData=t.data.datalist,e.pagenum=1),e.tableload=!1}).catch(function(t){e.tableload=!1,e.$message.error("账户检索失败"),console.log(t)})},editdata:function(){var e={};return e.adminType=this.userForm.adminType,e.name=this.userForm.name,e.email=this.userForm.email,e.loginStatus=this.userForm.loginStatus,this.userForm.daytime&&this.userForm.daytime.length>1&&(e.lastLoginstart=s()(this.userForm.daytime[0]).format("YYYY-MM-DD 00:00:00"),e.lastLoginend=s()(this.userForm.daytime[1]).format("YYYY-MM-DD 23:59:59")),e}},data:function(){return{toChlidbtn:!0,tochlidForm:{adminType:"",name:"",email:"",accontType:1},rolesArray:"",pagenum:1,pageSize:15,dialogTableVisible:!1,tableData:[],tableload:!1,loginStatus:[{value:"1",label:"正常登陆"},{value:"2",label:"密码错误"},{value:"3",label:"密码重置中"}],userForm:{adminType:"",name:"",email:"",loginStatus:"",daytime:[]},pickerOptions2:{shortcuts:[{text:"今天",onClick:function(e){var t=new Date,i=new Date;e.$emit("pick",[i,t])}},{text:"昨天",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-864e5),t.setTime(t.getTime()-864e5),e.$emit("pick",[i,t])}},{text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:"最近30天",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:"本月",onClick:function(e){var t=s()().month(),i=s()().daysInMonth(),n=s()().month(t).date(i),a=s()().month(t).date(1);e.$emit("pick",[a,n])}},{text:"上一个月",onClick:function(e){var t=s()().month(),i=s()().month(t-1).date(1).subtract(0,"days"),n=s()().month(t).date(1).subtract(1,"days");e.$emit("pick",[i,n])}}]},accesspermission:[{value:1,label:"开发人员"},{value:2,label:"客服人员"},{value:3,label:"研发经理"},{value:4,label:"部门经理"}],rules:{adminType:[{pattern:/.*/,trigger:"blur,change"}],name:[{trigger:"blur,change"}],email:[{trigger:"blur,change"}],loginStatus:[{pattern:/.*/,trigger:"blur,change"}],daytime:[{pattern:/.*/,trigger:"blur,change"}]}}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-main",{staticStyle:{"padding-top":"5px"},attrs:{id:"accountkankurin"}},[i("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.rules,size:"mini"}},[i("el-row",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[i("el-row",[i("el-col",{staticStyle:{"padding-top":"15px"},attrs:{md:24}},[i("el-row",{staticClass:"juzhong",attrs:{type:"flex",justify:"center"}},[i("el-col",{staticClass:"text-center",staticStyle:{"text-align":"center"},attrs:{lg:5}},[i("span",{staticStyle:{"font-size":"16px"}},[i("i",{staticClass:"fa fa-key"}),e._v(" 账户一览")])])],1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"padding-top":"20px"},attrs:{gutter:20}},[i("el-col",{staticStyle:{"min-width":"175px"},attrs:{lg:2,md:4,sm:6,xs:12}},[i("el-form-item",{attrs:{label:"访问权限",content:"选择用户角色"}},[i("el-select",{staticClass:"form-control-own-border qulankuang",staticStyle:{width:"100%"},attrs:{placeholder:"",clearable:"",size:"mini"},model:{value:e.userForm.adminType,callback:function(t){e.$set(e.userForm,"adminType",t)},expression:"userForm.adminType"}},e._l(e.accesspermission,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),i("el-col",{staticStyle:{"min-width":"200px"},attrs:{lg:2,md:4,sm:6,xs:12}},[i("el-form-item",{attrs:{label:"姓名",content:"输入姓名。"}},[i("el-input",{staticClass:"form-control-own-border",staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1)],1),e._v(" "),i("el-col",{staticStyle:{"min-width":"200px"},attrs:{lg:3,md:6,sm:9,xs:12}},[i("el-form-item",{attrs:{label:"邮箱",content:"请设定邮箱"}},[i("el-input",{staticClass:"form-control-own-border",staticStyle:{width:"100%","ime-mode":"inactive"},attrs:{size:"mini"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1)],1),e._v(" "),i("el-col",{staticStyle:{"min-width":"175px"},attrs:{lg:3,md:6,sm:9,xs:12}},[i("el-form-item",{attrs:{label:"登录状态",content:"登录状态选择"}},[i("el-select",{staticClass:"form-control-own-border",staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"",size:"mini"},model:{value:e.userForm.loginStatus,callback:function(t){e.$set(e.userForm,"loginStatus",t)},expression:"userForm.loginStatus"}},e._l(e.loginStatus,function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),i("el-col",{staticStyle:{"min-width":"320px"},attrs:{lg:5,md:8,sm:12,xs:24}},[i("el-form-item",{attrs:{label:"最后登陆时间",content:"选择最后登陆时间"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",size:"mini","picker-options":e.pickerOptions2,align:"right"},model:{value:e.userForm.daytime,callback:function(t){e.$set(e.userForm,"daytime",t)},expression:"userForm.daytime"}})],1)],1)],1),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{staticStyle:{"min-width":"250px"},attrs:{lg:9}},[i("br"),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:e.handleAdd}},[i("i",{staticClass:"fa fa-magic "}),e._v("添加用户")]),e._v(" "),i("el-button",{attrs:{type:"info",plain:"",size:"small"},on:{click:e.reset}},[i("i",{staticClass:"fa fa-refresh "}),e._v(" 重置")])],1)],1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"padding-top":"10px"}},[i("el-col",{attrs:{lg:24}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableload,expression:"tableload"}],staticStyle:{width:"1160px"},attrs:{fit:!0,border:!0,"element-loading-text":"数据载入中","element-loading-background":"rgba(255, 255, 255, 0.6)",data:e.tableDataView,size:"mini","default-sort":{prop:"date",order:"descending"}}},[i("el-table-column",{attrs:{label:"#",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.$index+1+(e.pagenum-1)*e.pageSize))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"teacherName",label:"姓名 ",sortable:"",width:"120",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"email",label:"邮箱",sortable:"",width:"240",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户角色 ",sortable:"",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roles,function(t){return i("div",{key:t.id},[i("span",[e._v(e._s(t.nameZh))])])})}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"loginStatus",label:" 登录状态 ",sortable:"",width:"160",formatter:e.formaterloginStatus,align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"updatetime",label:"最后登陆时间 ",sortable:"",formatter:e.formaterlastLogin,width:"220",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{width:"28px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(i){e.handleEdit(t.$index,t.row)}}},[i("i",{staticClass:"fa fa-edit"})]),e._v(" "),i("el-button",{staticStyle:{width:"28px"},attrs:{size:"mini",type:"danger",plain:""},on:{click:function(i){e.handleDelete(t.$index,t.row)}}},[i("i",{staticClass:"fa fa-trash-o"})]),e._v(" "),"10"===t.row.loginStatus?i("el-button",{staticStyle:{width:"28px"},attrs:{plain:"",size:"mini",type:"warning"},on:{click:function(i){e.unlock(t.$index,t.row)}}},[i("i",{staticClass:"fa fa-lock"})]):i("el-button",{staticStyle:{width:"28px"},attrs:{size:"mini",type:"warning",plain:""},on:{click:function(i){e.lock(t.$index,t.row)}}},[i("i",{staticClass:"fa fa-unlock"})])]}}])})],1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"padding-top":"20px"}},[i("el-col",{attrs:{lg:19}},[i("el-pagination",{attrs:{background:"","current-page":e.pagenum,"page-sizes":[5,10,15,20,25],"page-size":e.pageSize,layout:e.pagelayout,total:e.tableSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),e.dialogTableVisible?i("el-dialog",{attrs:{visible:e.dialogTableVisible,"lock-scroll":!0,"close-on-click-modal":!1,center:!0,width:"500px"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[i("div",{staticStyle:{"font-size":"16px"},attrs:{slot:"title"},slot:"title"},[i("i",{staticClass:"fa fa-key"}),e._v("添加用户\n      ")])]):e._e()],1)},staticRenderFns:[]};var c=i("VU/8")(o,r,!1,function(e){i("zHbm")},null,null);t.default=c.exports},"1stu":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  流程管理\n")])},staticRenderFns:[]},a=i("VU/8")(null,n,!1,null,null,null);t.default=a.exports},"3VD0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("oAV5"),a={mounted:function(){this.loading=!0,this.initRoles()},methods:{deleteRole:function(e,t){var i=this;this.$confirm("删除角色["+t+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.loading=!0,i.deleteRequest("/system/basic/role/"+e).then(function(e){e&&200==e.status?i.initRoles():i.loading=!1})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},addNewRole:function(){if(Object(n.c)(this.newRole,this.newRoleZh)){this.loading=!0;var e=this;this.postRequest("/system/basic/addRole",{role:this.newRole,roleZh:this.newRoleZh}).then(function(t){if(t&&200==t.status){t.data;_,e.initRoles(),e.newRole="",e.newRoleZh=""}else e.loading=!1})}},updateRoleMenu:function(e){var t=this.$refs.tree[e].getCheckedKeys(!0),i=this;this.putRequest("/system/basic/updateMenuRole",{rid:this.activeColItem,mids:t}).then(function(e){e&&200==e.status&&(i.activeColItem=-1)})},collapseChange:function(e){if(""!=e){var t=this;this.getRequest("/system/basic/menuTree/"+e).then(function(e){if(e&&200==e.status){var i=e.data;t.treeData=i.menus,t.checkedKeys=i.mids}})}},handleCheckChange:function(e,t,i){},initRoles:function(){var e=this;this.getRequest("/system/basic/roles").then(function(t){e.loading=!1,t&&200==t.status&&(e.roles=t.data,e.activeColItem=-1)})},cancelUpdateRoleMenu:function(){this.activeColItem=-1}},data:function(){return{props:{label:"name",children:"children"},newRole:"",newRoleZh:"",roles:[],treeData:[],checkedKeys:[],loading:!1,activeColItem:-1}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"text-align":"left"}},[i("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入角色英文名称...",size:"mini"},model:{value:e.newRole,callback:function(t){e.newRole=t},expression:"newRole"}},[i("template",{slot:"prepend"},[e._v("ROLE_")])],2),e._v(" "),i("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入角色中文名称...",size:"mini"},model:{value:e.newRoleZh,callback:function(t){e.newRoleZh=t},expression:"newRoleZh"}}),e._v(" "),i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini"},on:{click:e.addNewRole}},[e._v("添加角色")])],1),e._v(" "),i("div",{staticStyle:{"margin-top":"10px","text-align":"left"}},[i("el-collapse",{staticStyle:{width:"500px"},attrs:{accordion:""},on:{change:e.collapseChange},model:{value:e.activeColItem,callback:function(t){e.activeColItem=t},expression:"activeColItem"}},e._l(e.roles,function(t,n){return i("el-collapse-item",{key:t.name,attrs:{title:t.nameZh,name:t.id}},[i("el-card",{staticClass:"box-card"},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("可访问的资源")]),e._v(" "),i("el-button",{staticStyle:{color:"#f6061b",margin:"0px",float:"right",padding:"3px 0",width:"15px",height:"15px"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){e.deleteRole(t.id,t.nameZh)}}})],1),e._v(" "),i("div",[i("el-tree",{key:t.id,ref:"tree",refInFor:!0,attrs:{props:e.props,data:e.treeData,"default-checked-keys":e.checkedKeys,"node-key":"id","show-checkbox":"","highlight-current":""},on:{"check-change":e.handleCheckChange}})],1),e._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-right":"10px"}},[i("el-button",{attrs:{size:"mini"},on:{click:e.cancelUpdateRoleMenu}},[e._v("取消修改")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.updateRoleMenu(n)}}},[e._v("确认修改")])],1)])],1)}))],1)])},staticRenderFns:[]},s=i("VU/8")(a,l,!1,null,null,null);t.default=s.exports},"4Ej8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("3VD0"),a=(i("d+cy"),{data:function(){return{defaultTab:"MenuRole"}},methods:{},components:{"menu-role":n.default}}),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-top":"10px","padding-left":"10px"}},[t("menu-role")],1)},staticRenderFns:[]},s=i("VU/8")(a,l,!1,null,null,null);t.default=s.exports},"6NKU":function(e,t,i){var n={"./SysAllUseManage.vue":"1jhM","./SysBasic.vue":"4Ej8","./SysCfg.vue":"dWgB","./SysData.vue":"DzSS","./SysInit.vue":"pSyi","./SysLog.vue":"ytye","./SysPasswordReset.vue":"Fm2h","./SysProcessManage.vue":"1stu","./basic/DepMana.vue":"VUw/","./basic/ECMana.vue":"O7cz","./basic/JobTitleMana.vue":"d+cy","./basic/MenuRole.vue":"3VD0","./basic/PosMana.vue":"uh+K"};function a(e){return i(l(e))}function l(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(n)},a.resolve=l,e.exports=a,a.id="6NKU"},"85wA":function(e,t){},DzSS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    zeus page17\n  ")])])}]},a=i("VU/8")(null,n,!1,null,null,null);t.default=a.exports},Fm2h:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{form:{name:this.$store.state.userInfo.user.teacherName,academicDegree:this.$store.state.userInfo.user.academicDegree,title:this.$store.state.userInfo.user.title,graduatedUniversity:this.$store.state.userInfo.user.graduatedUniversity}}},methods:{onSubmit:function(){console.log("submit!")}},mounted:function(){}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-main",[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"form-body"},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"姓名"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"学位"}},[i("el-select",{attrs:{placeholder:"请选择学位"},model:{value:e.form.academicDegree,callback:function(t){e.$set(e.form,"academicDegree",t)},expression:"form.academicDegree"}},[i("el-option",{attrs:{label:"学士",value:"branch"}}),e._v(" "),i("el-option",{attrs:{label:"硕士",value:"gradu"}}),e._v(" "),i("el-option",{attrs:{label:"博士",value:"master"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"职称"}},[i("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"毕业学校"}},[i("el-input",{model:{value:e.form.graduatedUniversity,callback:function(t){e.$set(e.form,"graduatedUniversity",t)},expression:"form.graduatedUniversity"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改")]),e._v(" "),i("el-button",[e._v("取消")])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var l=i("VU/8")(n,a,!1,function(e){i("85wA")},null,null);t.default=l.exports},O7cz:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("zeus page12")])])}]},a=i("VU/8")(null,n,!1,null,null,null);t.default=a.exports},"VUw/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("bOdI"),a=i.n(n),l={data:function(){return{keywords:"",depName:"",treeLoading:!1,dialogVisible:!1,allDeps:[],pDep:"",treeData:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"}}},mounted:function(){this.treeLoading=!0,this.loadTreeData()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},loadTreeData:function(){var e=this;this.getRequest("/system/basic/dep/-1").then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data)})},setDataToTree:function(e,t,i){for(var n=0;n<e.length;n++){var a=e[n];if(a.id==t)return void(e[n].children=e[n].children.concat(i));this.setDataToTree(a.children,t,i)}},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequest("/system/basic/dep",{name:this.depName,parentId:this.pDep}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){var i=t.data;e.depName="",e.setDataToTree(e.treeData,e.pDep,i.msg)}})},loadAllDeps:function(){var e=this;this.getRequest("/system/basic/deps").then(function(t){t&&200==t.status&&(e.allDeps=t.data)})},showAddDepView:function(e,t){this.loadAllDeps(),this.dialogVisible=!0,this.pDep=e.id,t.stopPropagation()},deleteDep:function(e,t){var i=this;e.children.length>0?this.$message({message:"该部门下尚有其他部门，不能被删除!",type:"warning"}):this.$confirm("删除["+e.name+"]部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.treeLoading=!0,i.deleteRequest("/system/basic/dep/"+e.id).then(function(t){if(i.treeLoading=!1,t&&200==t.status){t.data;i.deleteLocalDep(i.treeData,e)}})}).catch(function(){i.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},deleteLocalDep:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n.id==t.id)return void e.splice(i,1);this.deleteLocalDep(n.children,t)}},renderContent:function(e,t){var i,n,l=this,s=t.node,o=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",null,[e("span",null,[s.label])]),e("span",null,[e("el-button",(i={style:"font-size: 12px;",attrs:{type:"primary",size:"mini"}},a()(i,"style","padding:3px"),a()(i,"on",{click:function(){return l.showAddDepView(o,event)}}),i),["添加部门"]),e("el-button",(n={style:"font-size: 12px;",attrs:{type:"danger",size:"mini"}},a()(n,"style","padding:3px"),a()(n,"on",{click:function(){return l.deleteDep(o,event)}}),n),["删除部门"])])])}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{"text-align":"left"}},[i("el-input",{staticStyle:{width:"500px",margin:"0px",padding:"0px"},attrs:{placeholder:"输入部门名称搜索部门...",size:"mini","prefix-icon":"el-icon-search"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),e._v(" "),i("div",[i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",staticStyle:{width:"500px","margin-top":"10px"},attrs:{props:e.defaultProps,data:e.treeData,"filter-node-method":e.filterNode,"render-content":e.renderContent}}),e._v(" "),i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{attrs:{title:"添加部门",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("span",[e._v("上级部门")]),e._v(" "),i("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.pDep,callback:function(t){e.pDep=t},expression:"pDep"}},e._l(e.allDeps,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("span",[e._v("部门名称")]),e._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入部门名称..."},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.addDep(t)}},model:{value:e.depName,callback:function(t){e.depName=t},expression:"depName"}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addDep}},[e._v("添加")])],1)])],1)],1)])},staticRenderFns:[]},o=i("VU/8")(l,s,!1,null,null,null);t.default=o.exports},bOdI:function(e,t,i){"use strict";t.__esModule=!0;var n,a=i("C4MV"),l=(n=a,n&&n.__esModule?n:{default:n});t.default=function(e,t,i){return t in e?(0,l.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},"d+cy":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("rVmU"),a=i.n(n);for(var l in n)"default"!==l&&(s=l,i.d(t,s,function(){return n[s]}));var s,o=i("mTq0"),r=i("VU/8")(a.a,o.a,!1,null,null,null);t.default=r.exports},dWgB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{}},mounted:function(){function e(){var e=document.getElementById("mobsf"),t=document.body.clientWidth;document.body.clientHeight;e.style.width=Number(t)-190+"px",e.style.height="1500px"}e(),window.onresize=function(){e()}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("iframe",{staticStyle:{"margin-top":"20px"},attrs:{src:"http://localhost:8080/swagger-ui.html",id:"mobsf",scrolling:"no",frameborder:"0"}})])}]},l=i("VU/8")(n,a,!1,null,null,null);t.default=l.exports},mTq0:function(e,t,i){"use strict";var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("zeus page15")])])}]};t.a=n},pSyi:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    zeus page18\n  ")])])}]},a=i("VU/8")(null,n,!1,null,null,null);t.default=a.exports},rVmU:function(e,t){},"uh+K":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={mounted:function(){this.loadTableData()},methods:{updatePosNameExec:function(){var e=this;if(this.isNotNullORBlank(this.updatePosName)){this.loading=!0;var t=this;this.putRequest("position"==this.state?"/system/basic/position":"/system/basic/joblevel",{name:this.updatePosName,id:this.updatePosId,titleLevel:this.updateTitleLevel}).then(function(i){if(t.loading=!1,i&&200==i.status){e.dialogVisible=!1;i.data;_,t.loadTableData()}})}else this.$message.warning("position"==this.state?"职位名称不能为空!":"职称名称不能为空!")},deleteMany:function(){var e=this,t=this;this.$confirm("删除"+this.multipleSelection.length+"条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e="";t.multipleSelection.forEach(function(t){e=e+t.id+","}),t.doDelete(e)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},addPosition:function(){if(this.isNotNullORBlank(this.positionName))if("jobtitle"!=this.state||this.isNotNullORBlank(this.titleLevel)){var e=this;this.loading=!0,this.postRequest("position"==this.state?"/system/basic/position":"/system/basic/joblevel",{name:this.positionName,titleLevel:this.titleLevel}).then(function(t){if(e.loading=!1,t&&200==t.status){t.data;_,e.loadTableData(),e.positionName="",e.titleLevel=""}})}else this.$message.warning("请选择职称级别!");else this.$message.warning("position"==this.state?"职位名称不能为空!":"职称名称不能为空!")},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){this.updatePosName=t.name,this.updatePosId=t.id,this.updateTitleLevel=t.titleLevel,this.dialogVisible=!0},handleDelete:function(e,t){var i=this,n=this;this.$confirm("删除["+t.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.doDelete(t.id)}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},doDelete:function(e){var t=this;t.loading=!0;var i="position"==this.state?"/system/basic/position/":"/system/basic/joblevel/";this.deleteRequest(i+e).then(function(e){t.loading=!1,e&&200==e.status&&t.loadTableData()})},loadTableData:function(){var e=this;this.loading=!0,this.getRequest("position"==this.state?"/system/basic/positions":"/system/basic/joblevels").then(function(t){e.loading=!1,t&&200==t.status&&(e.posData=t.data)})}},data:function(){return{positionName:"",updatePosName:"",updateTitleLevel:"",titleLevel:"",updatePosId:-1,loading:!1,dialogVisible:!1,multipleSelection:[],type:[],titleLevels:["正高级","副高级","中级","初级","员级"],nameLabelName:"position"==this.state?"职位名称":"职称名称",posData:[]}},props:["state"]},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{"text-align":"left"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"position"==e.state?"添加职位...":"添加职称...",size:"mini","prefix-icon":"el-icon-plus"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.addPosition(t)}},model:{value:e.positionName,callback:function(t){e.positionName=t},expression:"positionName"}}),e._v(" "),"jobtitle"==e.state?i("el-select",{attrs:{size:"mini",placeholder:"职称等级"},model:{value:e.titleLevel,callback:function(t){e.titleLevel=t},expression:"titleLevel"}},e._l(e.titleLevels,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})):e._e(),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.addPosition}},[e._v("添加")])],1),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"80%"},attrs:{data:e.posData,size:"mini",stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"left"}}),e._v(" "),i("el-table-column",{attrs:{prop:"id",label:"编号",width:"80",align:"left"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"position"==e.state?"职位名称":"职称名称",width:"180",align:"left"}}),e._v(" "),"jobtitle"==e.state?i("el-table-column",{attrs:{prop:"titleLevel",label:"职称级别",width:"180",align:"left"}}):e._e(),e._v(" "),i("el-table-column",{attrs:{width:"180",label:"创建时间",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.createDate)))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n          ")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n          ")])]}}])})],1)],1),e._v(" "),i("div",{staticStyle:{"text-align":"left","margin-top":"10px"}},[e.posData.length>0?i("el-button",{attrs:{type:"danger",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除\n    ")]):e._e()],1),e._v(" "),i("div",{staticStyle:{"text-align":"left"}},[i("el-dialog",{attrs:{title:"position"==e.state?"编辑职位名称":"编辑职称",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入新的职位名称..."},model:{value:e.updatePosName,callback:function(t){e.updatePosName=t},expression:"updatePosName"}}),e._v(" "),"jobtitle"==e.state?i("el-select",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",placeholder:"职称等级"},model:{value:e.updateTitleLevel,callback:function(t){e.updateTitleLevel=t},expression:"updateTitleLevel"}},e._l(e.titleLevels,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})):e._e(),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updatePosNameExec}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]},l=i("VU/8")(n,a,!1,null,null,null);t.default=l.exports},ytye:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{}},mounted:function(){function e(){var e=document.getElementById("mobsf"),t=document.body.clientWidth;document.body.clientHeight;e.style.width=Number(t)-190+"px",e.style.height="1500px"}e(),window.onresize=function(){e()}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("iframe",{staticStyle:{"margin-top":"20px"},attrs:{src:"http://localhost:8080/druid/index.html",id:"mobsf",scrolling:"no",frameborder:"0"}})])}]},l=i("VU/8")(n,a,!1,null,null,null);t.default=l.exports},zHbm:function(e,t){}});
//# sourceMappingURL=4.a2b4ca3dadf891da28be.js.map